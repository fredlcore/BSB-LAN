<!DOCTYPE html>
<html lang="en" data-bs-theme="light">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        <link rel="canonical" href="https://docs.bsb-lan.de/bus_systems.html">
        <link rel="shortcut icon" href="img/favicon.ico">
        <title>The BSB/LPB/PPS Bus - BSB-LAN</title>
        <link href="css/bootstrap.min.css" rel="stylesheet">
        <link href="css/fontawesome.min.css" rel="stylesheet">
        <link href="css/brands.min.css" rel="stylesheet">
        <link href="css/solid.min.css" rel="stylesheet">
        <link href="css/v4-font-face.min.css" rel="stylesheet">
        <link href="css/base.css" rel="stylesheet">
        <link id="hljs-light" rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" >
        <link id="hljs-dark" rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github-dark.min.css" disabled>
        <link href="style.css" rel="stylesheet">
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
        <script>hljs.highlightAll();</script> 
    </head>

    <body>
        <div class="navbar fixed-top navbar-expand-lg navbar-dark bg-primary">
            <div class="container">
                <a class="navbar-brand" href="index.html">BSB-LAN</a>
                <!-- Expander button -->
                <button type="button" class="navbar-toggler" data-bs-toggle="collapse" data-bs-target="#navbar-collapse" aria-controls="navbar-collapse" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>

                <!-- Expanded navigation -->
                <div id="navbar-collapse" class="navbar-collapse collapse">
                        <!-- Main navigation -->
                        <ul class="nav navbar-nav">
                            <li class="nav-item">
                                <a href="index.html" class="nav-link">Overview</a>
                            </li>
                            <li class="nav-item">
                                <a href="quickstart.html" class="nav-link">Quickstart</a>
                            </li>
                            <li class="nav-item dropdown">
                                <a href="#" class="nav-link dropdown-toggle active" aria-current="page" role="button" data-bs-toggle="dropdown"  aria-expanded="false">How it works</a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="supported_heating_systems.html" class="dropdown-item">Supported Heating Systems</a>
</li>
                                    
<li>
    <a href="bsb-lan_adapter.html" class="dropdown-item">The BSB-LAN Adapter</a>
</li>
                                    
<li>
    <a href="bus_systems.html" class="dropdown-item active" aria-current="page">The BSB/LPB/PPS Bus</a>
</li>
                                </ul>
                            </li>
                            <li class="nav-item dropdown">
                                <a href="#" class="nav-link dropdown-toggle" role="button" data-bs-toggle="dropdown"  aria-expanded="false">How to set it up</a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="install.html" class="dropdown-item">Installation</a>
</li>
                                    
<li>
    <a href="configure.html" class="dropdown-item">Configuration</a>
</li>
                                    
<li>
    <a href="CHANGELOG.html" class="dropdown-item">ChangeLog</a>
</li>
                                </ul>
                            </li>
                            <li class="nav-item dropdown">
                                <a href="#" class="nav-link dropdown-toggle" role="button" data-bs-toggle="dropdown"  aria-expanded="false">How to use it</a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="using.html" class="dropdown-item">BSB-LAN's functions</a>
</li>
                                    
<li>
    <a href="homeautomation.html" class="dropdown-item">Connect to your Smart Home</a>
</li>
                                </ul>
                            </li>
                            <li class="nav-item dropdown">
                                <a href="#" class="nav-link dropdown-toggle" role="button" data-bs-toggle="dropdown"  aria-expanded="false">Help!</a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="troubleshooting.html" class="dropdown-item">Troubleshooting</a>
</li>
                                    
<li>
    <a href="faq.html" class="dropdown-item">FAQ</a>
</li>
                                    
<li>
    <a href="https://github.com/fredlcore/BSB-LAN/wiki" class="dropdown-item">Wiki</a>
</li>
                                    
<li>
    <a href="https://www.youtube.com/@BSB-LAN" class="dropdown-item">YouTube Tutorials</a>
</li>
                                </ul>
                            </li>
                            <li class="nav-item dropdown">
                                <a href="#" class="nav-link dropdown-toggle" role="button" data-bs-toggle="dropdown"  aria-expanded="false">üåê</a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="/de/" class="dropdown-item">Deutsch</a>
</li>
                                    
<li>
    <a href="/" class="dropdown-item">English</a>
</li>
                                    
<li>
    <a href="/fr/" class="dropdown-item">Fran√ßais</a>
</li>
                                </ul>
                            </li>
                        </ul>

                    <ul class="nav navbar-nav ms-md-auto">
                        <li class="nav-item">
                            <a href="#" class="nav-link" data-bs-toggle="modal" data-bs-target="#mkdocs_search_modal">
                                <i class="fa fa-search"></i> Search
                            </a>
                        </li>
                            <li class="nav-item">
                                <a rel="prev" href="bsb-lan_adapter.html" class="nav-link">
                                    <i class="fa fa-arrow-left"></i> Previous
                                </a>
                            </li>
                            <li class="nav-item">
                                <a rel="next" href="install.html" class="nav-link">
                                    Next <i class="fa fa-arrow-right"></i>
                                </a>
                            </li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="container">
            <div class="row">
                    <div class="col-md-3"><div class="navbar-expand-md bs-sidebar hidden-print affix" role="complementary">
    <div class="navbar-header">
        <button type="button" class="navbar-toggler collapsed" data-bs-toggle="collapse" data-bs-target="#toc-collapse" title="Table of Contents">
            <span class="fa fa-angle-down"></span>
        </button>
    </div>

    
    <div id="toc-collapse" class="navbar-collapse collapse card bg-body-tertiary">
        <ul class="nav flex-column">
            
            <li class="nav-item" data-bs-level="1"><a href="#the-bsblpbpps-bus" class="nav-link">The BSB/LPB/PPS Bus</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-bs-level="2"><a href="#the-boiler-system-bus-bsb" class="nav-link">The Boiler System Bus (BSB)</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#the-local-process-bus-lpb" class="nav-link">The Local Process Bus (LPB)</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#the-point-to-point-interface-pps" class="nav-link">The Point-to-Point Interface (PPS)</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#which-bus-should-i-use" class="nav-link">Which bus should I use?</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
        </ul>
    </div>
</div></div>
                    <div class="col-md-9" role="main">

<h1 id="the-bsblpbpps-bus">The BSB/LPB/PPS Bus</h1>
<p>Developed at the end of the last millenium based on the BatiBUS (more information can be found <a href="https://2007.blog.dest-unreach.be/wp-content/uploads/2012/12/Interface-module-I-O-OPEN-ALBATROS-PTM59-20V1_19957_hq-en.pdf">here</a> and <a href="https://2007.blog.dest-unreach.be/wp-content/uploads/2012/12/BatiBus_v1.4.pdf">here</a>), many Siemens heating system controllers still use the same kind of physical bus to "talk" to room units as well as other heating devices. While a bus speed of a mere 4800 bits per second might sound anachronistic these days, it still provides for a stable and robust transmission protocol that is even today perfectly sufficient when it comes to transmitting short messages of a few dozen bytes over lines sometimes as long as one kilometer.</p>
<p>The bus topology also allows you to connect BSB-LAN at any point: At the room unit, at the heating system or anywhere where the bus lines are available. You can even add the two wires for BSB-LAN in an already "occupied" slot, and it won't harm the other device (proper installation assumed).</p>
<p>On top of the same physical layer, three bus systems, BSB, LPB and PPS, cater for different tasks, and while BSB and LPB should always be preferred if available, PPS nevertheless provides a set of parameters that is usually quite enough for the average user.<br />
BSB-LAN runs on any of these busses and swapping between them is just changing a few settings away.</p>
<hr />
<p><a href="" id="BSB"></a></p>
<h2 id="the-boiler-system-bus-bsb">The Boiler System Bus (BSB)</h2>
<p>BSB is the most common bus system in Siemens controllers for the last 10-15 years. It is the successor of the PPS system with which it shares the same physical parameters, but is much more versatile: Instead of just a few dozen parameters, it can access hundreds of parameters and group them into various categories for easier navigation. It is a transaction-based protocol where most messages are being sent from one device to another and the recipient returning some kind of feedback, for example whether the task could be completed or whether it contained invalid data.</p>
<p>While BSB is capable of addressing multiple devices on the bus, it is not used in systems with more than one heating device. The heating device always has the ID <code>0</code>, the display unit on the heating system has the ID <code>10</code> (or <code>0x0A</code> in hexadecimal) and the standard room unit has the ID <code>6</code>. BSB-LAN has the ID <code>66</code> or <code>0x42</code> in hexadecimal. <br />
Room units that "speak" BSB are, for example, the QAA55 and the QAA75.</p>
<hr />
<p><a href="" id="LPB"></a></p>
<h2 id="the-local-process-bus-lpb">The Local Process Bus (LPB)</h2>
<p>LPB was introduced more or less around the same time as PPS which it complemented in terms of communication with other heating devices: While PPS was used to communicate with the room unit, LPB was used to send commands from one main heating device to one or more auxilliary heating devices, for example in a cascade setup. At that time, most of the information transmitted via LPB was related to the internals of the heating system (such as sensor data or internal setpoint temperatures), whereas the parameters relevant for the user (such as comfort temperature setpoint etc.) were only available via PPS. Nowadays, heating devices that offer both LPB and BSB have the same kind of parameter data available on both bus systems.</p>
<p>LPB uses a specific addressing scheme with segments and devices. Each segment from 0 to 15 can contain up to 15 devices (from 1 to 15). When writing these addresses, segment and device are separated by a colon: <code>00:01</code> or <code>04:03</code>.<br />
To convert the segment-based address into the destination ID required for BSB-LAN, the formula is as this:
<code>SEGMENT</code> multiplied by 16 plus <code>DEVICE</code> minus one.<br />
Example: Device 3 in segment 4 equals to <code>4 * 16 + 3 - 1</code> = 66.<br />
The main heating unit is by definition <code>00:01</code>, so this equals to a destination ID 0.
To learn more about the LPB system and how it should be deployed, you may refer to these two documents from the end of the 1990s, one covers the <a href="https://sid.siemens.com/v/u/20138">basic system data</a> that covers the conceptualization of an LPB network, and the other one deals with the <a href="https://sid.siemens.com/v/u/20140">basic engineering data</a> and provides details about cable lengths and diameters etc.</p>
<p>Except for some Weishaut heaters, room units are not connected to the heating system via LPB. Newer models use BSB for this task while older models use either PPS or in some cases also OpenTherm.</p>
<hr />
<p><a href="" id="PPS"></a></p>
<h2 id="the-point-to-point-interface-pps">The Point-to-Point Interface (PPS)</h2>
<p>The Point-to-Point Interface (PPS deriving from the German term "Punkt-zu-Punkt Schnittstelle") is compatible to the other systems on a physical layer, but not in the way message telegrams are being exchanged. While BSB and LPB talk to each other by sending telegrams and acknowledging their receipt respectively, PPS is dominated by the heating unit. The heating unit constantly sends its data to the room unit and tells the room unit when and what kind of information it should send. So it may take up to a few minutes until a value that is set in BSB-LAN is actually requested by the heating system and shown there.<br />
It is also a very timing sensitive protocol, therefore long other tasks that BSB-LAN is told to do will lead to a temporary interruption and possible error message on the heating system. However, after a short while, this should be clearing by itself when the two components "talk" to each other again.  </p>
<p>Other than BSB and LPB, changes made in BSB-LAN do not take immediate effect. Changing values, for example like the room temperature comfort setpoint, will be stored internally in BSB-LAN first to be sent out to the heating system once it tells the room unit (i.e. BSB-LAN) to do so. This may take up to a minute or so, so one should not be confused that settings do not show up on the heater immediately, as is the case with BSB and LPB.</p>
<p>With PPS, BSB-LAN can run in two modes: either listening passively or as a room unit. In passive mode, BSB-LAN can just listen to the data exchanged between the room unit and the heating device. It is not possible to send one's own data, for the simple fact that it would be overwritten in no time by the same type of data coming from the room unit.<br />
In order to send parameter data to the heating system, BSB-LAN mus run in "room unit" mode, and this means that any room unit will have to be removed from the heating system. In this case, it is especially important to regularly send a room temperature value to BSB-LAN which in turn will send this value to the heating device. Only if the heater runs solely on outside temperature then this value can be ignored.<br />
BSB-LAN stores some values in its non-volatile EEPROM, but some values need to be set anew after a reboot, such as the room temperature setpoint. This is to prevent to store a parameter value that has become invalid but is still sent as it is stored in the EEPROM.</p>
<p>Room units commonly used with heating systems that support PPS are the QAA50 and the QAA70.</p>
<h2 id="which-bus-should-i-use">Which bus should I use?</h2>
<p><strong>Attention:</strong> Make sure that you make the decision where you want to connect your BSB-LAN adapter <strong>before</strong> you create the device-specific parameter list!</p>
<h3 id="if-your-heating-controller-has-both-bsb-and-lpb">If your heating controller has both BSB and LPB</h3>
<p>Overall, BSB and LPB provide access to the same parameter sets, so it doesn't make much of a difference which one you choose.<br />
If you only have <strong>one single heating controller</strong> and you have the option to choose between BSB and LPB then you should choose BSB. The advantage of using BSB is that a few status telegrams, such as burner activity, are pushed only via BSB. Therefore, you can, for example, access parameters 20000 to 20005 only via BSB.
If you already have <strong>more than one heating controller</strong> and these are connected via LPB, then you should also connect BSB-LAN via LPB in oder to have access to all devices using just a single BSB-LAN adapter via LPB.<br />
If you want the "best of both worlds", i.e. also having access to the (few) status parameters that are only available via BSB (such as parameters 20000 to 20005) as well as accessing more than one device on your LPB bus, you will need to get two adapters, one connected to BSB and one to LPB.  </p>
<h3 id="if-your-heating-controller-has-pps-and-lpb">If your heating controller has PPS and LPB</h3>
<p>This is usually only the case for older heating controllers. In this case, you will have access to the functions of a room unit when connecting BSB-LAN to PPS, and the more systematic parameters when connecting BSB-LAN to LPB. Depending on the heating controller, you may also have access to the functions available via PPS when connecting via LPB. If there is a difference in functionality, and you want to use every last available parameter, then you need two BSB-LAN adapters, one to connect via PPS and another one to connect via LPB.</p></div>
            </div>
        </div>

        <footer class="col-md-12">
            <hr>
            <p>Documentation built with <a href="https://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>
        <script src="js/bootstrap.bundle.min.js"></script>
        <script>
            var base_url = ".",
                shortcuts = {"help": 191, "next": 78, "previous": 80, "search": 83};
        </script>
        <script src="js/base.js"></script>
        <script src="search/main.js"></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="searchModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="searchModalLabel">Search</h4>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <p>From here you can search these documents. Enter your search terms below.</p>
                <form>
                    <div class="form-group">
                        <input type="search" class="form-control" placeholder="Search..." id="mkdocs-search-query" title="Type search term here">
                    </div>
                </form>
                <div id="mkdocs-search-results" data-no-results-text="No results found"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div><div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="keyboardModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="keyboardModalLabel">Keyboard Shortcuts</h4>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="help shortcut"><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td class="next shortcut"><kbd>n</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td class="prev shortcut"><kbd>p</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td class="search shortcut"><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>

    </body>
</html>
